<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>Visualizing Data in Tableau</title><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px !important; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 32px; padding-right: 32px; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none 0s ease 0s; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="mermaid"] svg, [lang="flow"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }


:root { --side-bar-bg-color: #fff; --control-text-color: #777; }
html { font-size: 14px; }
body { color: rgb(52, 73, 94); -webkit-font-smoothing: antialiased; line-height: 1.6rem; letter-spacing: 0px; margin: 0px; overflow-x: hidden; font-family: "Source Sans Pro", "Helvetica Neue", Arial, sans-serif !important; }
#write { max-width: 860px; margin: 0px auto; padding: 20px 30px 100px; }
#write p { line-height: 1.6rem; word-spacing: 0.05rem; }
#write ol li { text-indent: 0rem; }
#write > ul:first-child, #write > ol:first-child { margin-top: 10px; }
body > :first-child { margin-top: 0px !important; }
body > :last-child { margin-bottom: 0px !important; }
a { color: rgb(66, 185, 131); font-weight: 600; padding: 0px 2px; text-decoration: none; }
h1, h2, h3, h4, h5, h6 { position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text; }
h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor { text-decoration: none; }
h1 tt, h1 code { font-size: inherit !important; }
h2 tt, h2 code { font-size: inherit !important; }
h3 tt, h3 code { font-size: inherit !important; }
h4 tt, h4 code { font-size: inherit !important; }
h5 tt, h5 code { font-size: inherit !important; }
h6 tt, h6 code { font-size: inherit !important; }
h2 a, h3 a { color: rgb(52, 73, 94); }
h1 { padding-bottom: 0.2rem; font-size: 2.2rem; line-height: 1.3; }
h2 { font-size: 1.75rem; margin: 15px 0px; border-bottom: 0px solid rgb(221, 221, 221); }
h3 { font-size: 1.4rem; line-height: 1.43; margin: 20px 0px 7px; }
h4 { font-size: 1.2rem; }
h5 { font-size: 1rem; }
h6 { font-size: 1rem; color: rgb(119, 119, 119); }
p, blockquote, ul, ol, dl, table { margin: 0.8em 0px; }
li > ol, li > ul { margin: 0px; }
hr { height: 2px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border: 0px none; overflow: hidden; box-sizing: content-box; }
body > h2:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child + h2 { margin-top: 0px; padding-top: 0px; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child { margin-top: 0px; padding-top: 0px; }
a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 { margin-top: 0px; padding-top: 0px; }
h1 p, h2 p, h3 p, h4 p, h5 p, h6 p { margin-top: 0px; }
li p.first { display: inline-block; }
ul, ol { padding-left: 30px; }
ul:first-child, ol:first-child { margin-top: 0px; }
ul:last-child, ol:last-child { margin-bottom: 0px; }
blockquote { border-width: 1px; border-style: solid; border-color: rgb(221, 221, 221); padding: 10px 15px; color: rgb(119, 119, 119); background-color: rgba(66, 185, 131, 0.1); }
table { padding: 0px; word-break: initial; }
table tr { border-top: 1px solid rgb(223, 226, 229); margin: 0px; padding: 0px; }
table tr:nth-child(2n), thead { background-color: rgb(250, 250, 250); }
table tr th { font-weight: bold; border-width: 1px 1px 0px; border-top-style: solid; border-right-style: solid; border-left-style: solid; border-top-color: rgb(223, 226, 229); border-right-color: rgb(223, 226, 229); border-left-color: rgb(223, 226, 229); border-image: initial; border-bottom-style: initial; border-bottom-color: initial; text-align: left; margin: 0px; padding: 6px 13px; }
table tr td { border: 1px solid rgb(223, 226, 229); text-align: left; margin: 0px; padding: 6px 13px; }
table tr th:first-child, table tr td:first-child { margin-top: 0px; }
table tr th:last-child, table tr td:last-child { margin-bottom: 0px; }
#write strong { padding: 0px 1px; }
#write em { padding: 0px 5px 0px 2px; }
#write table thead th { background-color: rgb(242, 242, 242); }
#write .CodeMirror-gutters { border-right: none; }
#write .md-fences { border: 1px solid rgb(244, 244, 244); -webkit-font-smoothing: initial; line-height: 1.43rem; border-radius: 2px; font-size: 0.85rem; overflow-wrap: normal; margin: 0.8rem 0px !important; padding: 0.3rem 0px !important; background-color: rgb(248, 248, 248) !important; font-family: "Roboto Mono", "Source Sans Pro", Monaco, courier, monospace !important; }
#write .CodeMirror-wrap .CodeMirror-code pre { padding-left: 12px; }
#write code, tt { margin: 0px 2px; padding: 2px 4px; border-radius: 2px; font-size: 0.92rem; color: rgb(233, 105, 0); background-color: rgb(248, 248, 248); font-family: "Roboto Mono", "Source Sans Pro", Monaco, courier, monospace !important; }
#write .md-footnote { background-color: rgb(248, 248, 248); color: rgb(233, 105, 0); }
#write mark { background-color: rgb(235, 255, 235); border-radius: 2px; padding: 2px 4px; margin: 0px 2px; color: rgb(34, 34, 34); font-weight: 500; }
#write del { padding: 1px 2px; }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(34, 162, 201); }
.cm-s-inner .cm-string { color: rgb(34, 162, 201); }
.md-task-list-item > input { margin-left: -1.3em; }
@media print {
  html { font-size: 13px; }
  table, pre { break-inside: avoid; }
  pre { overflow-wrap: break-word; }
}
.md-fences { background-color: rgb(248, 248, 248); }
#write pre.md-meta-block { padding: 1rem; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border: 0px; border-radius: 3px; color: rgb(119, 119, 119); margin-top: 0px !important; }
.mathjax-block > .code-tooltip { bottom: 0.375rem; }
#write > h3.md-focus::before { left: -1.5625rem; top: 0.375rem; }
#write > h4.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h5.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h6.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
.md-image > .md-meta { border-radius: 3px; font-family: Consolas, "Liberation Mono", Courier, monospace; padding: 2px 0px 0px 4px; font-size: 0.9em; color: inherit; }
.md-tag { color: inherit; }
.md-toc { margin-top: 0px; padding-bottom: 0px; }
.md-toc-h1 { display: none; }
.md-toc-h4 { display: none; }
.md-toc-h5 { display: none; }
.sidebar-tabs { border-bottom: none; }
#typora-quick-open { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); }
#typora-quick-open-item { background-color: rgb(250, 250, 250); border-color: rgb(254, 254, 254) rgb(229, 229, 229) rgb(229, 229, 229) rgb(238, 238, 238); border-style: solid; border-width: 1px; }
#md-notification::before { top: 10px; }
.on-focus-mode blockquote { border-left-color: rgba(85, 85, 85, 0.12); }
header, .context-menu, .megamenu-content, footer { font-family: "Segoe UI", Arial, sans-serif; }
.file-node-content:hover .file-node-icon, .file-node-content:hover .file-node-open-state { visibility: visible; }
.mac-seamless-mode #typora-sidebar { background-color: var(--side-bar-bg-color); }
.md-lang { color: rgb(180, 101, 77); }
.html-for-mac .context-menu { --item-hover-bg-color: #E6F0FE; }


</style>
</head>
<body class='typora-export os-windows' >
<div  id='write'  class = 'is-node'><h1><a name="unit-3-part-1---visualizing-data-in-tableau" class="md-header-anchor"></a><span>Unit 3: Part 1 - Visualizing Data in </span><em><span>Tableau</span></em></h1><div class='md-toc' mdtype='toc'><p class="md-toc-content"><span class="md-toc-item md-toc-h1" data-ref="n317"><a class="md-toc-inner" style="cursor: pointer;" href="#unit-3-part-1---visualizing-data-in-tableau">Unit 3: Part 1 - Visualizing Data in <em>Tableau</em></a></span><span class="md-toc-item md-toc-h2" data-ref="n321"><a class="md-toc-inner" style="cursor: pointer;" href="#♦-usgs-water-use-data-an-overview">♦ USGS Water Use data, an overview</a></span><span class="md-toc-item md-toc-h4" data-ref="n323"><a class="md-toc-inner" style="cursor: pointer;" href="#obtaining-the-data--spreadsheet-etiquette">Obtaining the data &amp; spreadsheet etiquette</a></span><span class="md-toc-item md-toc-h2" data-ref="n337"><a class="md-toc-inner" style="cursor: pointer;" href="#♦-tableau-exercises">♦ Tableau Exercises</a></span><span class="md-toc-item md-toc-h3" data-ref="n341"><a class="md-toc-inner" style="cursor: pointer;" href="#1-loading-data-into-tableau">1. Loading data into Tableau</a></span><span class="md-toc-item md-toc-h3" data-ref="n364"><a class="md-toc-inner" style="cursor: pointer;" href="#2-joining-tables">2. Joining tables</a></span><span class="md-toc-item md-toc-h3" data-ref="n378"><a class="md-toc-inner" style="cursor: pointer;" href="#♦-navigating-tableau">♦ Navigating Tableau</a></span><span class="md-toc-item md-toc-h3" data-ref="n390"><a class="md-toc-inner" style="cursor: pointer;" href="#♦-working-with-worksheets">♦ Working with worksheets</a></span><span class="md-toc-item md-toc-h5" data-ref="n392"><a class="md-toc-inner" style="cursor: pointer;" href="#the-data-pane">The Data pane:</a></span><span class="md-toc-item md-toc-h3" data-ref="n402"><a class="md-toc-inner" style="cursor: pointer;" href="#3-constructing-a-visualization">3. Constructing a visualization</a></span><span class="md-toc-item md-toc-h4" data-ref="n403"><a class="md-toc-inner" style="cursor: pointer;" href="#3a-organizing-our-data">3a: Organizing our data</a></span><span class="md-toc-item md-toc-h4" data-ref="n426"><a class="md-toc-inner" style="cursor: pointer;" href="#3b-plotting-our-data">3b: Plotting our data</a></span><span class="md-toc-item md-toc-h3" data-ref="n457"><a class="md-toc-inner" style="cursor: pointer;" href="#4-derived-fields-plot-per-capita-water-withdrawals">4. Derived fields: Plot <em>per capita</em> water withdrawals.</a></span><span class="md-toc-item md-toc-h3" data-ref="n475"><a class="md-toc-inner" style="cursor: pointer;" href="#exercise-recreate-the-charts-shown-on-the-usgs-website">EXERCISE: Recreate the charts shown on the USGS website</a></span><span class="md-toc-item md-toc-h4" data-ref="n476"><a class="md-toc-inner" style="cursor: pointer;" href="#1-bar-chart-httpswaterusgsgovwatusewutohtml">1. Bar chart: https://water.usgs.gov/watuse/wuto.html </a></span><span class="md-toc-item md-toc-h4" data-ref="n507"><a class="md-toc-inner" style="cursor: pointer;" href="#2-pie-chart-httpswaterusgsgovwatusewutohtml-">2. Pie Chart: https://water.usgs.gov/watuse/wuto.html . </a></span><span class="md-toc-item md-toc-h4" data-ref="n536"><a class="md-toc-inner" style="cursor: pointer;" href="#3-bar-chart--by-state-and-category">3. Bar chart  by state and category.</a></span><span class="md-toc-item md-toc-h4" data-ref="n687"><a class="md-toc-inner" style="cursor: pointer;" href="#exercise-plot-only-the-top-10-states">Exercise: Plot only the top 10 states</a></span><span class="md-toc-item md-toc-h3" data-ref="n573"><a class="md-toc-inner" style="cursor: pointer;" href="#dashboards">Dashboards</a></span><span class="md-toc-item md-toc-h3" data-ref="n617"><a class="md-toc-inner" style="cursor: pointer;" href="#storyboards">Storyboards</a></span></p></div><p><span>Here, we test drive Tableau with some water use data pulled from the USGS servers. We&#39;ll examine how to get data into a Tableau session, how to best organize our data, and how to construct various plots and charts with our data. We&#39;ll also examine Tableau&#39;s &quot;dashboard&quot; and &quot;storyboard&quot; features. </span></p><hr /><h2><a name="♦-usgs-water-use-data-an-overview" class="md-header-anchor"></a><span>♦ USGS Water Use data, an overview</span></h2><p><span>The USGS collects and reports water use on 5-year intervals. The latest data released was from 2010. Go to the USGS Water Use website (</span><a href='https://water.usgs.gov/watuse/' target='_blank' class='url'>https://water.usgs.gov/watuse/</a><span>). Notice they provide some overviews of the data. Click on the different overviews. What do you notice? Is this information helpful? Would this information be more engaging if we could explore different state water use?</span></p><h4><a name="obtaining-the-data--spreadsheet-etiquette" class="md-header-anchor"></a><span>Obtaining the data &amp; spreadsheet etiquette</span></h4><p><span>From the USGS website, download the state data for </span><a href='https://water.usgs.gov/watuse/data/2010/index.html'><span>2010</span></a><span>.</span></p><ul><li><span>Download and examine the </span><a href='https://water.usgs.gov/watuse/data/2010/USGSCircular1405-tables1-14.xlsx'><span>Formatted tables, Excel .xlsx format</span></a><span>. </span><font color=red><em><span>Based on what we have learned in previous sessions, is this type of spreadsheet particularly usable? Why or why not?</span></em></font></li></ul><p><span>This is a frequent problem with water data. You might be able to discover the data, but the data are not in a format that is immediately usable. How would you reorganize the data to be more usable?</span></p><ul><li><span>Download and examine the unformatted version </span><a href='https://water.usgs.gov/watuse/data/2010/usco2010.xlsx'><span>Excel format</span></a><span>. </span><font color=red><span>How does this format compare to the previous one? Better? Worse?</span></font></li></ul><p><span>While this latter format is better suited for data analysis, we have further modified it to provide a good working example for learning Tableau. This is saves as the file called </span><code>State_Data_Formatted.xlsx</code><span>. </span></p><ul><li><span>Download a local copy of the  </span><a href='https://github.com/DataDevils/DataBootCamp/blob/master/Unit2_Visualization/rcran/data/State_Data_Formatted.xlsx?raw=true'><code>State_Data_Formatted.xlsx</code></a><span> workbook, and examine its contents. </span></li></ul><hr /><h2><a name="♦-tableau-exercises" class="md-header-anchor"></a><span>♦ Tableau Exercises</span></h2><p><span>We&#39;ll start exploring Tableau&#39;s analysis environment by making a simple plot with our water use data. Specifically, we&#39;ll construct a simple stacked bar plot of water withdrawals by category, limiting our data to fresh water withdrawals only. In doing so, we&#39;ll cover some basics such as: reading data in, joining tables, setting up plots, and manipulating plots. </span></p><p><span>Then we&#39;ll see if we can mimic some of the USGS&#39; exploratory products. </span></p><p>&nbsp;</p><h3><a name="1-loading-data-into-tableau" class="md-header-anchor"></a><span>1. Loading data into Tableau</span></h3><p><span>Tableau accepts several data formats, including Excel spreadsheets. You can also connect to remotely served data such as </span><a href='https://www.google.com/sheets/about/'><span>Google Sheets</span></a><span>. However, to keep it simple, we&#39;ll just load in our local Excel spreadsheet. </span></p><ul><li><span>Open Tableau</span></li><li><span>Select </span><code>Microsoft Excel</code><span> under the </span><code>Connect</code><span> menu. Navigate to where the data are held.</span></li></ul><ul><li><p><span>On the left-hand side we see that we are connected to the </span><code>State_Data_Formatted.xlsx</code><span> spreadsheet. Underneath the connection you see both </span><code>worksheets</code><span>. Drag the </span><code>WaterUse</code><span> sheet into the panel labelled &quot;</span><em><span>Drag sheets here</span></em><span>&quot;.</span></p></li><li><p><span>Make sure the data loaded into Tableau correctly:</span></p><ul><li><p><span>Data Column Headers</span></p></li><li><p><span>Data Types</span></p><ul><li><span>Geographic types are pre-loaded into Tableau</span></li></ul></li></ul></li></ul><p>&nbsp;</p><h3><a name="2-joining-tables" class="md-header-anchor"></a><span>2. Joining tables</span></h3><p><span>We want to connect data in our </span><code>WaterUse</code><span> worksheet with the data in the </span><code>Population</code><span> worksheet. We do this by joining the two tables.</span></p><ul><li><p><span>Drag the population sheet into the top right region of the workspace.</span></p></li><li><p><span>Types of joins...</span></p></li><li><p><span>Select the fields to link too: </span><code>State</code></p><ul><li><span>Linking population and water use data together will allow us to calculate the per-capita water use later on.</span></li></ul></li></ul><p><img src='media/tableau/Tableau_DataSource.png' alt='Data Source' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><h3><a name="♦-navigating-tableau" class="md-header-anchor"></a><span>♦ Navigating Tableau</span></h3><p><span>The bottom row of the Tableau workspace contains tabs for the different objects you&#39;ve created as well as links to create new objects.  </span></p><ul><li><code>Data Source</code><span> - the raw data we load into Tableau</span></li><li><code>Worksheet</code><span> - spreadsheets where we create visualizations to explore the data</span></li><li><code>Dashboard</code><span> - organize visualizations onto a page. Can set up connectivity and interaction of different charts.</span></li><li><code>New Story</code><span> - organize dashboard(s) in an order to walk users through the analysis</span></li></ul><p>&nbsp;</p><h3><a name="♦-working-with-worksheets" class="md-header-anchor"></a><span>♦ Working with worksheets</span></h3><p><img src='media/tableau/TableauWorkspace.PNG' alt='TableauWorkspace' referrerPolicy='no-referrer' /><span>Worksheets</span></p><h5><a name="the-data-pane" class="md-header-anchor"></a><span>The Data pane:</span></h5><ul><li><em><span>Dimensions</span></em><span> are discrete data. These set the level of detail in your visualization.</span></li><li><em><span>Measures</span></em><span> are continuous data. These values will be aggregated for each level in your selected dimension(s), and you specify how they are aggregated (mean, max, count, etc.).</span></li><li><span>Italicized variables are calculated by Tableau on the fly.</span></li><li><span>You can change how data are categorized, i.e. dimension or measures by dragging or by right clicking the variable and selecting the operation you want to perform.</span></li></ul><h3><a name="3-constructing-a-visualization" class="md-header-anchor"></a><span>3. Constructing a visualization</span></h3><h4><a name="3a-organizing-our-data" class="md-header-anchor"></a><span>3a: Organizing our data</span></h4><p><span>Let&#39;s begin our visualization exercise by plotting fresh water withdrawals by water use category. The first step in doing this is structuring our data into a table that computes the sum water withdrawal for each category (e.g. Aquaculture, Irrigation, etc.) and for each type (Fresh vs Saline). Let&#39;s explore how this is done in Tableau. </span></p><ul><li><p><span>Drag </span><code>Withdrawal MGD</code><span> into the main area of the sheet. </span><font color="blue"><span>What do you see?</span></font><span> </span></p><p><em><span>→ Tableau will always reduce data to a summary. You can then ask it to break out that information into </span><u><span>categories</span></u><span>.</span></em></p></li></ul><ul><li><p><span>Drag </span><code>Source</code><span> into the </span><code>Columns</code><span> &quot;shelf&quot;. </span></p><p><em><span>→ You can think of columns as your </span><strong><span>x-axis</span></strong><span> and rows as your </span><strong><span>y-axis</span></strong><span> in terms of how the data will be displayed.</span></em></p><p><img src='media/tableau/MGDbySource.PNG' alt='MGDbySource' referrerPolicy='no-referrer' /></p></li></ul><p>&nbsp;</p><ul><li><p><span>Add </span><code>Type</code><span> as a second column header.</span></p><p><img src='media/tableau/MGDbySourceType.PNG' alt='MGDbySourceType' referrerPolicy='no-referrer' /></p></li></ul><p>&nbsp;</p><ul><li><p><span>Drag </span><code>Category</code><span> into the </span><code>Rows</code><span> tab.</span></p><p><img src='media/tableau/MGDbySourceTypebyCategory.PNG' alt='MGDbySourceTypebyCategory' referrerPolicy='no-referrer' /></p><p>&nbsp;</p></li></ul><h4><a name="3b-plotting-our-data" class="md-header-anchor"></a><span>3b: Plotting our data</span></h4><p><span>As we configure the way the data are shown in our sheet, you will noticed in the &quot;Show Me&quot; area on the left, Tableau recommends different plotting options, with its top recommendation given a red border. </span></p><ul><li><p><span>Create a </span><code>stacked bar</code><span> chart by clicking the outlined plot option in the &quot;Show Me&quot; area.</span></p><ul><li><em><span>How did Tableau organize the information?</span></em></li><li><em><span>How did Tableau order the data in the bar chart?</span></em></li></ul></li></ul><p><img src='media/tableau/StackedBarPlot1.PNG' alt='StackedBarPlot1' referrerPolicy='no-referrer' /></p><p><span>→</span><em><span>It&#39;s a little hard to see - what if we flipped the orientation...</span></em></p><ul><li><span>Use </span><code>Ctrl</code><span>-</span><code>W</code><span> or  the </span><code>Swap Rows and Columns</code><span> tool to transpose the data. The stacked bar plot will update...</span></li></ul><p><img src='media/tableau/StackedBarPlot2.PNG' alt='StackedBarPlot1' referrerPolicy='no-referrer' /></p><p><span>→ </span><em><span>Notice that </span><code>Total</code><span> is making the </span><code>Withdrawal</code><span> axis very long. Remove the </span><code>Total</code><span> column.</span></em></p><ul><li><p><span>Right-Click on </span><code>Total</code><span> in the chart and click </span><code>exclude</code></p></li><li><p><u><mark><span>Now try some more modifications:</span></mark></u></p><p><span>► Let&#39;s focus only on freshwater. Can you exclude the entire Saline category?</span></p><p><span>► Can you sort the column </span><u><span>data</span></u><span> from descending to ascending?</span></p></li></ul><p><em><span>→ At present our plot&#39;s name is &quot;Sheet1&quot;. Renaming the sheet will rename the plot...</span></em></p><ul><li><span>Rename your worksheet (by clicking on it&#39;s current name &quot;Sheet1&quot; in the lower left corner) to something more meaningful like &quot;Water Withdrawals&quot;. </span></li></ul><p><img src='media/tableau/BarChart1.png' alt='Bar Chart' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><h3><a name="4-derived-fields-plot-per-capita-water-withdrawals" class="md-header-anchor"></a><span>4. Derived fields: Plot </span><em><span>per capita</span></em><span> water withdrawals.</span></h3><ul><li><p><code>Duplicate</code><span> the worksheet you just created and rename it &quot;Per Capita Withdrawals&quot;</span></p><ul><li><span>Right click on the sheet in the lower bar and select </span><code>Duplicate</code><span>, then rename it</span></li></ul></li><li><p><span>Under </span><code>Measures</code><span>, click on </span><code>Withdrawal MGD</code><span>. Select the dropdown arrow on the right side and from the dropdown menu, select </span><code>Create</code><span>&gt;</span><code>Calculated Field</code><span>:</span></p><ul><li><span>Name this calculated field </span><code>Per Capita (MGD/person)</code></li><li><span>Calculate the per-capita water use (mgd/person) as </span><code>[Withdrawal MGD]/[Population]</code><span> (</span><em><span>You can type or drag fields into the box...</span></em><span>) Then click </span><code>OK</code><span>. </span></li></ul></li><li><p><span>Drag </span><code>Per Capita (MGD/person)</code><span> field into the columns chart and remove  </span><code>SUM(Withdrawal MGD)</code><span>. </span></p></li></ul><p><img src='media/tableau/BarChart2.png' alt='Bar Chart' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><h3><a name="exercise-recreate-the-charts-shown-on-the-usgs-website" class="md-header-anchor"></a><span>EXERCISE: Recreate the charts shown on the USGS website</span></h3><h4><a name="1-bar-chart-httpswaterusgsgovwatusewutohtml" class="md-header-anchor"></a><span>1. Bar chart: </span><a href='https://water.usgs.gov/watuse/wuto.html' target='_blank' class='url'>https://water.usgs.gov/watuse/wuto.html</a><span> </span></h4><p><span>Let&#39;s explore more of Tableau by attempting to recreate the USGS figure shown here:</span></p><p><img src='https://water.usgs.gov/watuse/images/category-pages/2010/totalwateruse-map-2010.png' alt='USGS Fig 1' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><ul><li><p><span>In Tableau, create a new worksheet and title it </span><code>Total Water Use, 2010</code></p><ul><li><p><span>Drag </span><code>State</code><span> into the worksheet. Voila! A map!</span></p></li><li><p><span>Let&#39;s create a color map based on </span><code>Withdrawal MGD</code><span> by dragging the field on top of the </span><code>color</code><span> icon in the Marks window. </span></p><ul><li><span>You can click on colors to edit.</span></li><li><span>The USGS used </span><code>Stepped</code><span> color, meaning the colors are broken into discrete categories. Tableau naturally uses a </span><code>continous</code><span> color range. </span><font color="red"><span>What are the pros / cons of using each. </span></font><span>Look at the USGS map for comparison. </span></li></ul><blockquote><p><span>► There&#39;s not a right or wrong answer. Pick the one you want to use.</span></p></blockquote></li></ul></li></ul><p>&nbsp;</p><p><span>  </span><img src='media/tableau/TotalWaterUse1.png' alt='Map' referrerPolicy='no-referrer' /></p><p><span>► Let&#39;s only look at </span><u><span>freshwater</span></u><span> totals. </span></p><ul><li><span>Use the </span><code>filters</code><span> box to exclude </span><code>Saline</code><span>.</span></li></ul><p><span>►How does the fresh water map change if you look at per capita withdrawals?</span></p><ul><li><span>Drag your derived &quot;</span><code>Per Capita (mgd/person)</code><span>&quot; field onto the </span><code>Color</code><span> section in the ~window.</span></li></ul><p><img src='media/tableau/TotalWaterUse2.png' alt='Map' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><h4><a name="2-pie-chart-httpswaterusgsgovwatusewutohtml-" class="md-header-anchor"></a><span>2. Pie Chart: </span><a href='https://water.usgs.gov/watuse/wuto.html' target='_blank' class='url'>https://water.usgs.gov/watuse/wuto.html</a><span> . </span></h4><p><span>Next, we&#39;ll tackle the pie chart shown here:</span></p><p><img src='https://water.usgs.gov/watuse/images/category-pages/2010/total-category-pie-2010.png' alt='Pie' referrerPolicy='no-referrer' /></p><ul><li><p><span>Create a new worksheet and rename it &quot;Pie Chart&quot;</span></p></li><li><p><span>Add the </span><code>Withdrawal MGD</code><span> data to the workspace.</span></p></li><li><p><span>Set </span><code>Category</code><span> to be the rows.</span></p><ul><li><span>Exclude the </span><code>Total</code><span> category</span></li></ul></li><li><p><span>Convert your result to be a Pie chart</span></p><ul><li><span>Optional: reorder your fields and color them to match the USGS figure..</span></li></ul></li></ul><p><img src='media/tableau/piechart.png' alt='pie' referrerPolicy='no-referrer' /></p><p><span>Some modifications:</span></p><ul><li><p><span>Filter it to only look at </span><code>freshwater</code><span> </span></p></li><li><p><span>Set </span><code>Source</code><span> to be a column</span></p><p><img src='media/tableau/PieChart2.png' alt='Pie' referrerPolicy='no-referrer' /></p></li></ul><blockquote><p><span>What other charts might convey this information better than a pie chart?</span></p></blockquote><p>&nbsp;</p><h4><a name="3-bar-chart--by-state-and-category" class="md-header-anchor"></a><span>3. Bar chart  by state and category.</span></h4><p><span>Finally, we&#39;ll tackle this one: </span><a href='https://water.usgs.gov/watuse/east-west-2010.html' target='_blank' class='url'>https://water.usgs.gov/watuse/east-west-2010.html</a></p><p><img src='https://water.usgs.gov/watuse/images/category-pages/2010/east-west-categories-2010.png' alt='USGS Bar chart' referrerPolicy='no-referrer' /></p><ul><li><p><span>Create a new worksheet, rename it </span><code>State Water Use</code></p></li><li><p><span>Drag the </span><code>Withdrawal MGD</code><span> field into the </span><strong><span>Rows</span></strong><span> shelf. </span></p><p><span>→ </span><em><span>Note that instead of the table (with one value) we&#39;d get if we dragged the field into the table area of the sheet, we get a bar plot if we drag the value field into the Rows shelf...</span></em></p></li><li><p><span>Next, we want to create plot &quot;facets&quot; for each water use category, that is, create a series of subplots of water withdrawal, one for each category. </span></p><ul><li><span>This is done by </span><u><span>dragging the </span><code>Category</code><span> field into the </span><strong><span>Rows</span></strong><span> shelf.</span></u><span> (It will default to the left of </span><code>Withdrawal</code><span>, which is fine).</span></li></ul></li><li><p><span>Now we want not just one bar for each category, but bars reflecting the withdrawal in each state. </span></p><ul><li><span>Do this by dragging the </span><code>State1</code><span> column into the </span><strong><span>Columns</span></strong><span> shelf. </span></li></ul></li><li><p><span>Exclude the </span><em><span>Total</span></em><span> category from the Water Use facets. </span></p></li><li><p><span>Filter records for </span><code>Fresh</code><span> type only...</span></p></li></ul><blockquote><p><span>If you look at the USGS figure, the states are sorted from west to east. We could replicate this by sorting our states based on longitude. We have longitude as a calculated field, but alas, it cannot be used to sort our data. Nor can it be set as a </span><em><span>dimension</span></em><span>, or even extracted into a non-calculated field. So close... but this is why we might use scripting - to get beyond the limitations of GUI-based plotting applications...</span></p><p><span>Still, we&#39;ll take a quick look at sorting columns and rows to see how it </span><em><span>could</span></em><span> be done...</span></p></blockquote><ul><li><p><span>To sort the water use categories by </span><code>Total Withdrawals</code><span> , click the </span><code>Category</code><span> item in the </span><strong><span>Rows</span></strong><span> shelf, and select </span><strong><span>Sort...</span></strong><span> to open the sorting dialog window. </span></p><ul><li><span>Select &quot;Sort by </span><em><span>Field</span></em><span>&quot; and explore the options. </span></li></ul></li></ul><p>&nbsp;</p><h4><a name="exercise-plot-only-the-top-10-states" class="md-header-anchor"></a><span>Exercise: Plot only the top 10 states</span></h4><ul><li><p><span>Duplicate the </span><code>State Water Use</code><span> sheet to a new sheet called </span><code>Top 10</code></p></li><li><p><span>Right-click the </span><code>State1</code><span> (in your </span><strong><span>Rows</span></strong><span> shelf) and select &quot;Filter...&quot; from the dropdown menu. Select </span><code>Top</code><span> and set to sort by the Top 10 states ranked by sum of Withdrawal...</span></p><p><img src='media/tableau/StateFilter.PNG' alt='StateFilter' referrerPolicy='no-referrer' /></p></li></ul><ul><li><p><span>To improve our chart, let&#39;s color the bars by water use categories:</span></p><ul><li><span>Drag the </span><code>Category</code><span> field (from the left hand Data panel) onto the </span><strong><span>Color</span></strong><span> box in the </span><strong><span>Marks</span></strong><span> area.</span></li></ul></li><li><p><span>Next, let&#39;s transpose our plot:</span></p><ul><li><span>Click the Transpose button (Right below the &quot;Map&quot; menu label...)</span></li></ul></li><li><p><span>Finally let&#39;s sort the usage categories from largest used to smallest.</span></p><ul><li><span>From the dropdown menu in the </span><code>Category</code><span> item in the </span><strong><span>Columns</span></strong><span> shelf, select sort. </span></li><li><span>Sort by </span><em><span>Field</span></em><span> in </span><em><span>descending</span></em><span> order.</span></li></ul></li><li><p><span>Lastly, sort the states in descending order of the most used category (Irrigation).</span></p></li></ul><p><img src='media/tableau/StateBar.png' alt='State Bar' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><p><span>► To go back to the USGS chart (first duplicate the above sheet):</span></p><ul><li><p><span>Remove the Top 10 State filter</span></p></li><li><p><span>Transpose the rows and columns</span></p></li><li><p><span>Sort on -- </span><em><span>well, if we had a longitude column we could do it...</span></em></p><p>&nbsp;</p></li></ul><h3><a name="dashboards" class="md-header-anchor"></a><span>Dashboards</span></h3><p><span>Now that we&#39;ve created the data visualizations, we can organize the visualizations onto a dashboard.</span></p><ul><li><p><span>Add a </span><code>Dashboard</code><span> sheet</span></p><ul><li><span>Notice that instead of seeing your data on the left-hand side, you now see the data visualizations you have created. </span></li></ul></li><li><p><span>Add your </span><code>Total Water Use, 2000</code><span> map to the dashboard by dragging it over. </span></p></li><li><p><span>Add in the </span><code>Pie Chart</code><span> and the </span><code>&quot;Top 10&quot; State Water Use</code><span> charts.</span></p><ul><li><span>Notice you can undock and delete some of the legends.</span></li><li><span>You can also change legends from full lists to drop down menus.</span></li></ul></li><li><p><span>Rearrange these three plots however you would like.</span></p></li><li><p><span>Notice that the Map and the State Water Use bar charts could be </span><u><span>linked together by state.</span></u></p><ul><li><p><span>Click on the state map. Click on the bottom arrow and click </span><code>use as filter</code><span>.</span></p><ul><li><p><span>Click on a state. What happens to the bar chart and the pie chart?</span></p><ul><li><p><span>Why does the bar chart not seem to work correctly?</span></p><ul><li><span>Go to the </span><code>State Bar</code><span> worksheet and turn off the </span><code>Top 10 filter</code><span>. </span></li></ul></li><li><p><span>Now try selecting multiple states.</span></p></li></ul></li></ul></li></ul></li><li><p><span>Save the workbook</span></p></li></ul><ul><li><span>Sometimes you will get an error saying it failed to saved the workbook. Click </span><code>open from Tableau Public</code><span>. This will let you sign in and you will see an older version of your workbook. Close that and then try to save your workbook again.</span></li></ul><p><img src='media/tableau/WaterUse_Dashboard.png' alt='Dashboard' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><h3><a name="storyboards" class="md-header-anchor"></a><span>Storyboards</span></h3><p><span>A storyboard allows you to merge together multiple dashboards or charts to progressively lead a reader through a process of understanding their data.</span></p><p><span>Storyboard is similar to the dashboard, except you can also include dashboards. Each caption box at the top represents an html page. Arrange your plots and captions, add text, and tell a story about the data. Here&#39;s one example:</span></p><p>&nbsp;</p><p><img src='media/tableau/Storyboard.png' alt='Story board' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><p>&nbsp;</p></div>
</body>
</html>